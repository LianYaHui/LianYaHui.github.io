<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Our Love Story</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <style type="text/css">
        @font-face {
            font-family: digit;
            src: url('digital-7_mono.ttf') format("truetype");
        }
    </style>
    <link href="default.css" type="text/css" rel="stylesheet">

</head>
<body>
    <div id="mainDiv">
        <div id="content">
            <div id="code">
                <span class="comments">        秋天是沉静的。春天的浮华，夏天的浮躁，一切的一切，在飒飒的秋风中，慢慢的沉淀，冷寂。</span>
                <br />
                <span class="comments">        寻找秋天。</span>
                <br />
                <span class="comments">
                    我踏着秋天的风，走来。不是为了寻找枝头沉甸甸的果实。我只是为了春日一个绮丽的梦想。我登上山巅，来寻觅融融春意里丢失的蝴蝶，来拾捡夏日繁华遗失的花环。我抛开秋日落寞的心结，我只是为了寻找，寻找一抹秋日的嫣红。我将浓郁的情思，储存在秋天的风里。
                </span>
                <br />
                <span class="comments">        这里没有青翠欲滴的叶子，也没有婀娜若风般妖娆的花朵。拥有的，只是纯净。</span>
                <br />
                <span class="comments">
                    丢开尘世的悸动和不安，就站在桥头，看漫天迷离的秋雨潇潇的落下。就让这秋雨打湿一段岁月，就让这秋雨淋湿一地繁华，管它还在谁的梦中缠绵。
                </span>
                <br />
                <span class="comments">        寻找秋天，让心沉静。</span>
                <br />
                <span class="comments">        一路行走。抬头望望弯如钩的新月，那里一半写满了繁华，一半写满了沧桑。</span>
                <br />
                <span class="comments">        我不慕繁华，只为选择一份宁静，在山间，在田野，在心底。</span>
                <br />
                <span class="comments">        何必将情感交付给岁月，何必将心情交付给季节。走遍千山，只为寻得枫林晚秋的灿烂。踏遍雪原，只为寻得一树晶莹的纯净。</span>
                <br />
                <span class="comments">        寻找秋天，让心安然。</span>
                <br />
                <span class="comments">
                    我知道，世间相遇皆是缘。每一段缘分，都有相遇的喜悦，每一个故事，都有离愁别绪。多少黯然神伤的人，站在秋天的风中吟唱，唱一曲离愁，吟一支离歌。多少烟尘过往，在秋天的风景里，任由伤感和落寞，在秋天里风干，飘逝。不去想，是谁弹奏着流水的离歌吟唱秋日的清音，是谁吟唱着断肠人的夕阳，在秋风中徘徊。风起，轻盈的花瓣如蝶般悠悠的飘落，就将那些过往放置在远古，就让今生拥抱温暖沉静的记忆。
                </span>
                <br />
                <span class="comments">        我庆幸自己，还能守候一份安宁。在秋天的豁然里，我执着地写下郁郁的情怀。</span>
                <br />
                <span class="comments">        天，永远是空旷的。</span>
                <br />
                <span class="comments">        云，永远是飘渺的。</span>
                <br />
                <span class="comments">        就站在秋天的风里行走，我看不到秋风尽扫落叶的萧寒。我只看到，一树繁华落地的淡定。</span>
                <br />
            </div>

            <div id="loveHeart">
                <canvas id="garden"></canvas>
                <div id="words">
                    <div id="messages">
                        Baby U and I.
                        <div id="loveu">
                            Sorry
                            <br />
                            <div class="signature">- BF</div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script src="../Common/jquery-2.1.1.js"></script>
    <script src="garden.js"></script>

    <script type="text/javascript">
        $(function () {
            var offsetX = $("#loveHeart").width() / 2;
            var offsetY = $("#loveHeart").height() / 2 - 55;


            var $window = $(window), gardenCtx, gardenCanvas, $garden, garden; var clientWidth = $(window).width(); var clientHeight = $(window).height(); $(function () { $loveHeart = $("#loveHeart"); var a = $loveHeart.width() / 2; var b = $loveHeart.height() / 2 - 55; $garden = $("#garden"); gardenCanvas = $garden[0]; gardenCanvas.width = $("#loveHeart").width(); gardenCanvas.height = $("#loveHeart").height(); gardenCtx = gardenCanvas.getContext("2d"); gardenCtx.globalCompositeOperation = "lighter"; garden = new Garden(gardenCtx, gardenCanvas); $("#content").css("width", $loveHeart.width() + $("#code").width()); $("#content").css("height", Math.max($loveHeart.height(), $("#code").height())); $("#content").css("margin-top", Math.max(($window.height() - $("#content").height()) / 2, 10)); $("#content").css("margin-left", Math.max(($window.width() - $("#content").width()) / 2, 10)); setInterval(function () { garden.render() }, Garden.options.growSpeed) }); $(window).resize(function () { var b = $(window).width(); var a = $(window).height(); if (b != clientWidth && a != clientHeight) { location.replace(location) } }); function getHeartPoint(c) { var b = c / Math.PI; var a = 19.5 * (16 * Math.pow(Math.sin(b), 3)); var d = -20 * (13 * Math.cos(b) - 5 * Math.cos(2 * b) - 2 * Math.cos(3 * b) - Math.cos(4 * b)); return new Array(offsetX + a, offsetY + d) } function startHeartAnimation() { var c = 50; var d = 10; var b = new Array(); var a = setInterval(function () { var h = getHeartPoint(d); var e = true; for (var f = 0; f < b.length; f++) { var g = b[f]; var j = Math.sqrt(Math.pow(g[0] - h[0], 2) + Math.pow(g[1] - h[1], 2)); if (j < Garden.options.bloomRadius.max * 1.3) { e = false; break } } if (e) { b.push(h); garden.createRandomBloom(h[0], h[1]) } if (d >= 30) { clearInterval(a); showMessages() } else { d += 0.2 } }, c) } (function (a) { a.fn.typewriter = function () { this.each(function () { var d = a(this), c = d.html(), b = 0; d.html(""); var e = setInterval(function () { var f = c.substr(b, 1); if (f == "<") { b = c.indexOf(">", b) + 1 } else { b++ } d.html(c.substring(0, b) + (b & 1 ? "_" : "")); if (b >= c.length) { clearInterval(e) } }, 75) }); return this } })(jQuery); function timeElapse(c) { var e = Date(); var f = (Date.parse(e) - Date.parse(c)) / 1000; var g = Math.floor(f / (3600 * 24)); f = f % (3600 * 24); var b = Math.floor(f / 3600); if (b < 10) { b = "0" + b } f = f % 3600; var d = Math.floor(f / 60); if (d < 10) { d = "0" + d } f = f % 60; if (f < 10) { f = "0" + f } var a = '<span class="digit">' + g + '</span> days <span class="digit">' + b + '</span> hours <span class="digit">' + d + '</span> minutes <span class="digit">' + f + "</span> seconds"; $("#elapseClock").html(a) } function showMessages() { $("#messages").fadeIn(5000, function () { showLoveU() }) } function adjustWordsPosition() { $("#words").css("position", "absolute"); $("#words").css("top", $("#garden").position().top + 195); $("#words").css("left", $("#garden").position().left + 70) } function adjustCodePosition() { $("#code").css("margin-top", ($("#garden").height() - $("#code").height()) / 2) } function showLoveU() { $("#loveu").fadeIn(3000) };


            if (!document.createElement('canvas').getContext) {
                var msg = document.createElement("div");
                msg.id = "errorMsg";
                msg.innerHTML = "Your browser doesn't support HTML5!<br/>Recommend use Chrome 14+/IE 9+/Firefox 7+/Safari 4+";
                document.body.appendChild(msg);
                $("#code").css("display", "none")
                $("#copyright").css("position", "absolute");
                $("#copyright").css("bottom", "10px");
                document.execCommand("stop");
            } else {
                setTimeout(function () {
                    adjustWordsPosition();
                    startHeartAnimation();
                }, 10000);

                $("#accept").click(function () {
                    $(this).hide();
                    $("#elapseClock").show();
                    var together = new Date();
                    timeElapse(together);
                    setInterval(function () {
                        timeElapse(together);
                    }, 500);
                })
                adjustCodePosition();
                $("#code").typewriter();
            }
        });

    </script>
</body>
</html>